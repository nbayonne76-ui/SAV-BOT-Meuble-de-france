# ===========================================
# SAV-BOT Meuble de France - Environment Configuration
# ===========================================
# Copy this file to backend/.env and fill in the values

# ===========================================
# REQUIRED - Core Settings
# ===========================================

# OpenAI API Key (required)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Secret key for JWT tokens (required in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# ===========================================
# Application Settings
# ===========================================

APP_NAME=Meuble de France Chatbot
APP_VERSION=1.0.0

# Set to False in production
DEBUG=True

# Server binding
HOST=0.0.0.0
PORT=8000

# ===========================================
# Database Settings
# ===========================================

# SQLite for development
DATABASE_URL=sqlite:///./chatbot.db

# PostgreSQL for production or local (recommended for full features)
# Example: bind Postgres container to host port 5433 (docker-compose.yml uses 5433)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5433/innatural
# If using Railway or another provider, use the provided URL (postgresql://...)
# The application will automatically transform postgres:// to a SQLAlchemy-compatible URL.

# ===========================================
# Redis Settings (for sessions and rate limiting)
# ===========================================

# Use memory:// for development (no Redis needed)
REDIS_URL=memory://

# Use Redis for production (uncomment and configure)
# REDIS_URL=redis://localhost:6379/0

# ===========================================
# Security Settings
# ===========================================

# JWT Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# HTTPS Enforcement (recommended for production)
# When enabled, all HTTP requests will be redirected to HTTPS
# Default: true in production (DEBUG=False), false in development (DEBUG=True)
# ENFORCE_HTTPS=true

# Rate limiting
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_AUTH=5/minute

# ===========================================
# CORS Settings
# ===========================================

# Allowed origins (comma-separated)
# Development
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Production (add your domain)
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ===========================================
# File Upload Settings
# ===========================================

UPLOAD_DIR=../uploads

# Maximum file size in bytes (default: 10MB = 10485760 bytes)
MAX_FILE_SIZE=10485760

# Allowed file extensions for uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,heic,mp4,mov,avi,webm

# Rate limiting for uploads (configured in code):
# - 10 uploads per minute per user/IP
# - Maximum 10 files per request
# - File size validation applied to each file
